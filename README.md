> 提升查询类功能的响应速度, 防止图片文字丢失或黑屏

# 请仔细阅读插件配置中的问号(?)说明

- 触发查询功能后保存生成的图片, 下次查询时直接发送
- 设备性能越差, 效果越明显
- <font color=green>支持缓存任意html图片</font><br>
*给 Chain.html() 传入相同的data视为同一图片

## 使用   
- 所有人可在原指令中包含 `刷新 / 重置 / 重制` 来重新渲染并刷新缓存<br>
   - 如 `兔兔重置蒂蒂材料` / `兔兔小羊技能刷新`

> 缓存操作仅超级管理员可用<br>
> 建议在游戏版本大更后清除全部缓存

-  `兔兔查看缓存`: 查看已缓存的图片数量和占用空间
-  `兔兔清除缓存 [干员名]`: 清除某个干员的相关缓存
-  `兔兔清除敌方缓存`: 清除所有敌方单位缓存
-  `兔兔清除关卡缓存`: 清除所有关卡缓存
-  `兔兔清除随机缓存`: 清除随机缓存
-  `兔兔清除全部缓存`: 清除全部缓存

> 主动缓存生成

- 在兔兔空闲时使用
- 发送 `兔兔生成缓存 [数量]` 开始生成
- 在生成过程中, 直接发送 `取消`/`停止` 可停止生成
- 按照干员Json字典倒序生成 (高星干员优先)
- 生成时不影响正常使用; 生成后可供查询时直接读取


## 其他说明

- 卸载插件/重启不会丢失缓存
- 同时支持幻月葬魂的 [水月皮肤](https://console.amiyabot.com/#/shop) 及 [鹰宝皮肤](https://console.amiyabot.com/#/shop的) 系列插件


## 配置

> 前往 [插件管理-查询快速响应-插件配置](https://console.amiyabot.com/#/plugin) 修改 <br>
> 配置实时更新，无需重启bot

- 渲染时间
- 缓存容量上限 (设为 0 可关闭自动清理)
- 自动清理间隔
- 主动缓存生成


---
   问题反馈：在 [Amiya的测试工坊—插件开发&使用交流](https://qun.qq.com/qqweb/qunpro/share?_wv=3&_wwv=128&appChannel=share&inviteCode=1XqeeRDjEVa&from=246610&biz=ka#/pc) 中@.Tdp


| 版本  | 变更                                 
|-------|-------------------------------------
| 2.9   | 支持自动清理[明日方舟微博推送](https://console.amiyabot.com/#/shop)产生的图片缓存; 优化缓存自动清理
| 2.8.1 | 修复某些情况下生成图片出现空白区域
| 2.8   | 适配 [干员查询-鹰宝皮肤](https://console.amiyabot.com/#/shop); 翻新缓存生成; <br> 移除了对森空岛插件的支持; 更新资源后自动重载;  <br>添加空资源警告; 优化代码
| 2.7.7 | 支持清除敌方和关卡缓存; 添加指令提示;<br>修复错误的停止生成提示
| 2.7.5 | 修复部分缓存名识别错误
| 2.7.3 | 优化缓存自动清理性能; 调整部分默认配置
| 2.7   | 修复部分缓存名识别错误; <br>添加debug开关; 修复其他若干bug <br>翻新主动缓存生成, 现在可以精准识别主插件
| 2.6.6 | 不再缓存"我的游戏信息"
| 2.6.5 | 适配 AmiyaBot-Core 1.6.8
| 2.6.1 | 修复其他模板导致的报错
| 2.6   | 缓存适配森空岛插件2.5
| 2.5.6 | 修改渲染时间策略, 优化调试信息
| 2.5.2 | 适配 AmiyaBot-Core 1.5.8
| 2.5   | 适配 AmiyaBot 6.3.2; 优化缓存生成
| 2.4   | 缓存生成时可取消; 添加刷新关键词
| 2.3   | 修复无法识别普通/突袭/剧情/标准/磨难关卡
| 2.2   | 支持单独清理随机缓存
| 2.1.6 | 优化提示, 修复信息显示, 错别字, 重制图标
| 2.1   | 可关闭缓存自动清理; 修复缓存主动生成的白边/尺寸压缩
| 2.0   | 支持缓存任意html图片, 自动清理缓存<br>支持主动缓存生成<br>重构代码; 迁移配置到控制台<br>修复: 二星干员查询报错; 通用技能干员识别错误  

      
| 版本  | 变更                                 
|-------|---------------------------------
| 1.3.6 | 修复无皮肤时报错                      
| 1.3   | 支持敌方单位查询                      
| 1.2   | 添加普通群员刷新指令                   
| 1.1.5 | 将vscode放进垃圾桶                    
| 1.1.2 | 修复渲染失败提示                      
| 1.1   | 可介入修改渲染时间; 渲染失败提示       
| 1.0   | 查询响应速度优化                      


